+function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){"use strict";function e(e,a){this.element=n(e),this.pageNow=1,this.settings=n.extend({pages:100,groups:5,skin:"#009688",jump:!1,first:"首页",last:"末页",firstAndLast:!0,prev:"上一页",next:"下一页",switchPage:n.noop},a),this.init()}if(void 0===n)throw new Error("This JavaScript requires jQuery");e.prototype={constructor:e,init:function(){var n=this.settings;if(n.groups>n.pages)throw new Error("分页数大于总页数不合法");this.element.addClass("h-pagination-pages").on("selectstart",function(){return!1}),this.render()},render:function(){var e=this,a=e.settings;if(e.element.html(""),e.prev=n("<a/>").html(a.prev).addClass("h-pagination-pages-prev").appendTo(e.element),e.pagesBox=n("<span/>").addClass("h-pagination-pages-box").appendTo(e.element),e.next=n("<a/>").html(a.next).addClass("h-pagination-pages-next").appendTo(e.element),e.prev.on("click",function(n){n=n||window.event,n.preventDefault(),e.prevOrNext(this,-1)}),e.next.on("click",function(n){n=n||window.event,n.preventDefault(),e.prevOrNext(this,1)}),a.pages<=a.groups){e.prev.addClass("h-pagination-hidden"),e.next.addClass("h-pagination-hidden");for(var t=0;t<a.groups;t++){var s=n("<a/>").html(t+1).appendTo(e.pagesBox);s.on("click",function(t){t=t||window.event,t.preventDefault(),e.pageNow=n(this).html(),n.isFunction(a.switchPage)&&a.switchPage(e),e.nowPage(this,"h-pagination-now-pages")}),t+1==e.pageNow&&s.addClass("h-pagination-now-pages").css("background",a.skin)}}else{if(a.firstAndLast){e.end=n("<a/>").html(a.last).addClass("h-pagination-pages-end").insertBefore(e.next);var i=n("<a/>").addClass("h-pagination-ellipsis").html("...");e.end.on("click",function(t){t=t||window.event,t.preventDefault(),e.jump(a.pages),n.isFunction(a.switchPage)&&a.switchPage(e),e.check()})}if(e.pageNow<=a.groups-1){for(var o=0;o<a.groups;o++){var p=n("<a/>").html(o+1);p.on("click",function(t){t=t||window.event,t.preventDefault(),e.pageNow=n(this).html(),n.isFunction(a.switchPage)&&a.switchPage(e),e.nowPage(this,"h-pagination-now-pages"),e.check(),e.pageNow>=a.groups-1&&e.reset()}),e.pagesBox.append(p),o+1==e.pageNow&&p.addClass("h-pagination-now-pages").css("background",a.skin)}e.check(),a.firstAndLast&&e.pagesBox.append(i)}else e.reset()}if(a.jump){var g=n("<span/>").addClass("h-pagination-jump-box").appendTo(e.element),h=n("<span/>").html("到第").addClass("h-pagination-jump-container").appendTo(g);e.inputBox=n("<input/>").val(e.pageNow).addClass("h-pagination-skip").appendTo(h),n("<span/>").html("页").appendTo(h);n("<button/>").html("确定").appendTo(h).on("click",function(){var n=e.inputBox.val().trim();e.jump(n),e.inputBox.val(n)})}},prevOrNext:function(e,a){var t=this,s=t.settings;e.className.indexOf("h-pagination-hidden")==-1&&(a==-1?(t.pageNow--,n.isFunction(s.switchPage)&&s.switchPage(t)):(t.pageNow++,n.isFunction(s.switchPage)&&s.switchPage(t)),s.jump&&t.inputBox.val(t.pageNow),t.judge())},nowPage:function(e,a){var t=this,s=t.settings,i=t.pagesBox.children("a");n.each(i,function(e,t){n(t).removeClass(a).css("background","")}),n(e).addClass(a).css("background",s.skin),s.jump&&t.inputBox.val(t.pageNow)},check:function(){this.pageNow<=1?this.prev.addClass("h-pagination-hidden"):this.prev.removeClass("h-pagination-hidden")},judge:function(){this.pageNow-this.start>2?this.reset():this.render()},jump:function(e){e>this.settings.pages||e<=0||(this.pageNow=e,this.settings.jump&&this.inputBox.val(this.pageNow),n.isFunction(this.settings.switchPage)&&this.settings.switchPage(this),this.judge())},reset:function(){var e=this,a=e.settings;if(e.pagesBox.html(""),a.firstAndLast){var t=n("<a/>").html(a.first).appendTo(e.pagesBox);n("<a/>").html("...").addClass("h-pagination-ellipsis").appendTo(e.pagesBox),t.on("click",function(t){t=t||window.event,t.preventDefault(),e.pageNow=1,n.isFunction(a.switchPage)&&a.switchPage(e),e.nowPage(this,"h-pagination-now-pages"),e.render()})}var s=n("<a/>").html("...").addClass("h-pagination-ellipsis");e.start=e.pageNow-Math.ceil(a.groups/2-1),e.start>=a.pages-a.groups+1?(e.start=a.pages-a.groups+1,e.isEnd=!0):e.isEnd=!1;for(var i=0;i<a.groups;i++){var o=n("<a/>").html(e.start+i);o.on("click",function(t){t=t||window.event,t.preventDefault(),e.pageNow=n(this).html(),n.isFunction(a.switchPage)&&a.switchPage(e),e.nowPage(this,"h-pagination-now-pages"),e.judge()}),e.pagesBox.append(o),e.start+i==this.pageNow&&o.addClass("h-pagination-now-pages").css("background",a.skin)}!e.isEnd&&a.firstAndLast?e.pagesBox.append(s):a.firstAndLast&&e.end.addClass("h-pagination-hidden"),e.pageNow==a.pages&&e.next.addClass("h-pagination-hidden"),e.pageNow!=a.pages&&e.next.removeClass("h-pagination-hidden")}},n.fn.pagination=function(a){return new e(n(this),a)}});